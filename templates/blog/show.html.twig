{% extends 'base.html.twig' %}

{% block title %}{{ post.title }}{% endblock %}

{% block body %}
    <div class="site-section bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 mb-12">
                    <div class="post-entry-1 h-100">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 mb-12">
                                <div class="post-entry-1-contents">
                                    <h2>{{ post.title }}</h2>
                                    <p>{{ post.resume|raw }}</p>
                                    <span class="meta d-inline-block mb-3">{{ post.publicationDate|date('d-m-Y H:i') }}</span>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-12 col-md-12 mb-12">
                                <a href="">
                                    <img src="{{ asset('images/' ~ post.visual) }}" alt="Image" class="img-fluid">
                                </a>
                            </div>
                            <div class="col-lg-12 col-md-12 mb-12">
                                <div class="post-entry-1-contents">
                                    <p>{{ post.content|raw }}</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <h2>Comments ({{ post.comments|filter(c => c.validated == true)|length }})</h2>
                            {% for comment in post.comments|filter(c => c.validated == true) %}
                                <div class="col-lg-12 col-md-12 mb-12">
                                    <b>{{ comment.pseudo }}</b>
                                    <b>{{ comment.date|date('d-m-Y H:i') }}</b>
                                    <p>{{ comment.message|raw }}</p>
                                </div>
                                <hr>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
